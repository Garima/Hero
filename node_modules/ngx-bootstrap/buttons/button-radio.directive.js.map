{"version":3,"file":"button-radio.directive.js","sourceRoot":"","sources":["../../.tmp/buttons/button-radio.directive.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EACL,SAAS,EACT,UAAU,EACV,WAAW,EACX,UAAU,EACV,YAAY,EACZ,KAAK,EAEL,iBAAiB,EAClB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAwB,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AAEzE,MAAM,CAAC,IAAM,4BAA4B,GAAQ;IAC/C,OAAO,EAAE,iBAAiB;IAC1B,WAAW,EAAE,UAAU,CAAC,cAAM,OAAA,oBAAoB,EAApB,CAAoB,CAAC;IACnD,KAAK,EAAE,IAAI;CACZ,CAAC;AAEF;;;GAGG;AAEH;IAwCE,8BAAmB,EAAc,EAAU,GAAsB;QAAtB,QAAG,GAAH,GAAG,CAAmB;QAtC1D,aAAQ,GAAQ,QAAQ,CAAC,SAAS,CAAC;QACnC,cAAS,GAAQ,QAAQ,CAAC,SAAS,CAAC;QAsCzC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IA3BD,sBAAW,0CAAQ;aAAnB;YACE,MAAM,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAAA;IAGM,sCAAO,GAAd;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9C,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;YACvB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC3B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,MAAM,CAAC;QACT,CAAC;IACH,CAAC;IAMM,uCAAQ,GAAf;QACE,IAAI,CAAC,WAAW,GAAG,OAAO,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC;IAC7D,CAAC;IAEM,qCAAM,GAAb;QACE,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,uBAAuB;IACvB,gBAAgB;IACT,yCAAU,GAAjB,UAAkB,KAAU;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;IAC1B,CAAC;IAEM,+CAAgB,GAAvB,UAAwB,EAAO;QAC7B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAEM,gDAAiB,GAAxB,UAAyB,EAAO;QAC9B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IA3DQ;QAAR,KAAK,EAAE;;0DAAsB;IAErB;QAAR,KAAK,EAAE;;6DAA6B;IAE5B;QAAR,KAAK,EAAE;;uDAAmB;IAK3B;QADC,WAAW,CAAC,cAAc,CAAC;;;wDAG3B;IAGD;QADC,YAAY,CAAC,OAAO,CAAC;;;;uDAmBrB;IAtCU,oBAAoB;QADhC,SAAS,CAAC,EAAC,QAAQ,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,4BAA4B,CAAC,EAAC,CAAC;yCAyCtD,UAAU,EAAe,iBAAiB;OAxCtD,oBAAoB,CAkEhC;IAAD,2BAAC;CAAA,AAlED,IAkEC;SAlEY,oBAAoB","sourcesContent":["import {\r\n  Directive,\r\n  ElementRef,\r\n  HostBinding,\r\n  forwardRef,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nexport const RADIO_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => ButtonRadioDirective),\r\n  multi: true\r\n};\r\n\r\n/**\r\n * Create radio buttons or groups of buttons.\r\n * A value of a selected button is bound to a variable specified via ngModel.\r\n */\r\n@Directive({selector: '[btnRadio]', providers: [RADIO_CONTROL_VALUE_ACCESSOR]})\r\nexport class ButtonRadioDirective implements ControlValueAccessor, OnInit {\r\n\r\n  public onChange: any = Function.prototype;\r\n  public onTouched: any = Function.prototype;\r\n\r\n  /** Radio button value, will be set to `ngModel` */\r\n  @Input() public btnRadio: any;\r\n  /** If `true` â€” radio button can be unchecked */\r\n  @Input() public uncheckable: boolean;\r\n  /** Current value of radio component or group */\r\n  @Input() public value: any;\r\n\r\n  protected el: ElementRef;\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.btnRadio === this.value;\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (this.el.nativeElement.attributes.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (this.uncheckable && this.btnRadio === this.value) {\r\n      this.value = undefined;\r\n      this.onTouched();\r\n      this.onChange(this.value);\r\n      return;\r\n    }\r\n\r\n    if (this.btnRadio !== this.value) {\r\n      this.value = this.btnRadio;\r\n      this.onTouched();\r\n      this.onChange(this.value);\r\n      return;\r\n    }\r\n  }\r\n\r\n  public constructor(el: ElementRef, private cdr: ChangeDetectorRef) {\r\n    this.el = el;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.uncheckable = typeof this.uncheckable !== 'undefined';\r\n  }\r\n\r\n  public onBlur(): void {\r\n    this.onTouched();\r\n  }\r\n\r\n  // ControlValueAccessor\r\n  // model -> view\r\n  public writeValue(value: any): void {\r\n    this.value = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  public registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}